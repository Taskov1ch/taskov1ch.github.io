<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Wplace Task</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
	<style>
		:root {
			--bg-color: #0D0D14;
			--primary-text: #F0F0F5;
			--secondary-text: #A0A0B0;
			--accent-color: #8A63D2;
			--accent-color-hover: #7B58BC;
			--glass-bg: rgba(20, 20, 30, 0.5);
			--glass-border: rgba(255, 255, 255, 0.1);
			--modal-bg: #191922;
			--progress-bar-bg: rgba(255, 255, 255, 0.1);
		}

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		html {
			scroll-behavior: smooth;
		}

		body {
			font-family: "Inter", sans-serif;
			background-color: var(--bg-color);
			color: var(--primary-text);
			overflow-x: hidden;
		}

		a {
			color: var(--accent-color);
			text-decoration: none;
			transition: color 0.3s ease;
		}

		a:hover {
			color: var(--accent-color-hover);
		}

		img {
			max-width: 100%;
			display: block;
		}

		.background-blurs {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: -1;
			overflow: hidden;
		}
		.background-blurs div {
			position: absolute;
			border-radius: 50%;
			filter: blur(180px);
			opacity: 0.2;
			will-change: transform;
			transition: transform 1s ease-out;
		}
		.blur-1 { width: 450px; height: 450px; background: #8e54e9; top: -150px; left: -150px; }
		.blur-2 { width: 350px; height: 350px; background: #4776e6; bottom: -100px; right: -100px; }
		.blur-3 { width: 300px; height: 300px; background: #ff5e62; top: 40%; right: 15%; }
	
		.container {
			width: 100%;
			max-width: 1100px;
			margin: 0 auto;
			padding: 0 1.5rem;
		}
		
		section {
			padding: 6rem 0;
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		#home .container { text-align: center; }
		#home .logo-image { max-width: 200px; margin: 0 auto 1.5rem; }
		#home h1 {
			font-size: clamp(2.5rem, 6vw, 4rem);
			font-weight: 700;
			margin-bottom: 2rem;
			line-height: 1.2;
		}
		.cta-button, .alliance-button {
			display: inline-block;
			padding: 1rem 2.5rem;
			border-radius: 8px;
			font-weight: 600;
			font-size: 1.1rem;
			text-align: center;
			cursor: pointer;
			transition: all 0.3s ease;
			border: none;
		}
		.alliance-button {
			background: var(--accent-color);
			color: white;
			margin-bottom: 0.5rem;
		}
		.alliance-button:hover {
			background: var(--accent-color-hover);
			transform: translateY(-3px);
			box-shadow: 0 10px 20px rgba(138, 99, 210, 0.2);
		}
		.alliance-subtext {
			color: var(--secondary-text);
		}

		#current .container {
			display: grid;
			grid-template-columns: 1fr;
			align-items: center;
			gap: 3rem;
		}
		.pixel-art-image {
			image-rendering: pixelated;
			image-rendering: -moz-crisp-edges;
			image-rendering: crisp-edges;
			width: 100%;
			border-radius: 12px;
			border: 1px solid var(--glass-border);
			box-shadow: 0 10px 30px rgba(0,0,0,0.2);
		}
		.art-details h2 { font-size: 2rem; margin-bottom: 1.5rem; }
		.art-info { display: flex; flex-direction: column; gap: 1rem; margin-bottom: 1.5rem; }
		.art-info p {
			background-color: rgba(255, 255, 255, 0.05);
			padding: 0.75rem 1rem;
			border-radius: 8px;
			color: var(--secondary-text);
		}
		.art-info strong { color: var(--primary-text); font-weight: 600; }
		
		.progress-bar-container {
			width: 100%;
			height: 12px;
			background-color: var(--progress-bar-bg);
			border-radius: 6px;
			margin-bottom: 2rem;
			overflow: hidden;
		}
		.progress-bar {
			height: 100%;
			background: linear-gradient(90deg, var(--accent-color), #A07FEA);
			border-radius: 6px;
			transition: width 0.5s ease-in-out;
		}
		
		.button-container {
			display: flex;
			gap: 1rem;
			width: 100%;
		}

		.button-container .cta-button {
			flex: 1;
		}
		
		#help-button {
			background-color: var(--accent-color);
			color: white;
		}
		#help-button:hover {
			background-color: var(--accent-color-hover);
			transform: translateY(-3px);
		}

		.cta-button.secondary {
			background-color: transparent;
			border: 1px solid var(--accent-color);
			color: var(--accent-color);
		}
		.cta-button.secondary:hover {
			background-color: var(--accent-color);
			color: white;
			transform: translateY(-3px);
		}
		
		#archive .container {
			display: flex;
			flex-direction: column;
		}
		#archive h2 {
			font-size: 2.5rem;
			text-align: center;
			margin-bottom: 2.5rem;
		}
		.tabs {
			display: flex;
			justify-content: center;
			border: 1px solid var(--glass-border);
			border-radius: 10px;
			background-color: rgba(255,255,255,0.05);
			margin: 0 auto 2rem auto;
			overflow: hidden;
			padding: 5px;
		}
		.tab-link {
			background: none;
			border: none;
			color: var(--secondary-text);
			padding: 0.75rem 1.5rem;
			cursor: pointer;
			font-size: 1rem;
			font-weight: 500;
			transition: color 0.3s, background-color 0.3s;
			border-radius: 8px;
			flex-grow: 1;
		}
		.tab-link.active {
			color: var(--primary-text);
			background-color: var(--accent-color);
		}
		
		.tab-content { display: none; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1.5rem; }
		.tab-content.active { display: grid; }
		
		.art-thumbnail {
			cursor: pointer;
			border-radius: 10px;
			overflow: hidden;
			transition: transform 0.3s ease, box-shadow 0.3s ease;
			position: relative;
			border: 1px solid var(--glass-border);
		}
		.art-thumbnail:hover {
			transform: translateY(-5px) scale(1.03);
			box-shadow: 0 15px 30px rgba(0,0,0,0.3);
		}
		.art-thumbnail img { width: 100%; height: 100%; object-fit: cover; }
		
		.modal {
			display: none;
			position: fixed;
			z-index: 2000;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.7);
			backdrop-filter: blur(8px);
			align-items: center;
			justify-content: center;
			opacity: 0;
			transition: opacity 0.3s ease;
		}
		.modal.show {
			display: flex;
			opacity: 1;
		}
		.modal-content {
			background-color: var(--modal-bg);
			border: 1px solid var(--glass-border);
			border-radius: 16px;
			padding: 2.5rem;
			width: 90%;
			max-width: 500px;
			animation: slide-in 0.4s ease;
			position: relative;
			box-shadow: 0 20px 40px rgba(0,0,0,0.4);
		}
		.modal-content h2 { margin-bottom: 1.5rem; }
		.modal-content ul { list-style: none; padding-left: 0; margin-bottom: 2rem; display: flex; flex-direction: column; gap: 0.75rem; }
		.modal-content ul li { background: rgba(0, 0, 0, 0.2); padding: 0.75rem 1rem; border-radius: 6px; }
		#modal-art-image { margin-bottom: 1.5rem; }
		#art-viewer-modal .art-info { display: flex; justify-content: space-between; gap: 1rem; }
		#art-viewer-modal .art-info p { flex: 1; text-align: center; }
		
		.close-button {
			color: var(--secondary-text);
			position: absolute;
			top: 15px;
			right: 20px;
			font-size: 28px;
			font-weight: bold;
			cursor: pointer;
			transition: color 0.3s, transform 0.3s;
		}
		.close-button:hover {
			color: var(--primary-text);
			transform: rotate(90deg);
		}

		#download-art-button.disabled { background-color: #555; cursor: not-allowed; }
		
		@keyframes slide-in {
			from { transform: translateY(-30px) scale(0.95); opacity: 0; }
			to { transform: translateY(0) scale(1); opacity: 1; }
		}

		@media (max-width: 767px) {
			section { padding: 4rem 0; }
			#home h1 { font-size: 2.2rem; }
			.tabs { width: 100%; }
			.tab-link { padding: 0.75rem 1rem; font-size: 0.9rem; }
		}

		@media (min-width: 768px) {
			#current .container {
				grid-template-columns: repeat(2, 1fr);
				gap: 4rem;
			}
		}
	</style>
</head>
<body>

	<div class="background-blurs">
		<div class="blur-1"></div>
		<div class="blur-2"></div>
		<div class="blur-3"></div>
	</div>

	<main>
		<section id="home">
			<div class="container">
				<img src="https://i.ibb.co/Kjt0Qwsy/20251011-194437.png" alt="Логотип команды" class="logo-image">
				<h1>Команда <a href="https://wplace.live">wplace.live</a></h1>
				<a href="https://wplace.live/join?id=0199048c-0ba2-7f1b-b3d7-b12268389840" class="alliance-button">Вступить в альянс</a>
				<p class="alliance-subtext">(Yandex Artists)</p>
			</div>
		</section>

		<section id="current">
			<div class="container">
				<div class="art-display">
					<img src="https://placehold.co/600x600/1a1a2e/ffffff?text=Loading..." alt="Текущий пиксель-арт" id="main-art-image" class="pixel-art-image">
				</div>
				<div class="art-details">
					<h2>Текущий Арт</h2>
					<div class="art-info">
						<p><strong>Художник:</strong> <span id="main-art-artist">...</span></p>
						<p><strong>Всего пикселей:</strong> <span id="main-art-pixels">...</span></p>
					</div>
					<div class="button-container">
						<button class="cta-button" id="help-button">Помочь с артом</button>
						<a href="https://wplace.live/?lat=42.64876451925781&lng=78.65780240302732&zoom=11.183074887121743" target="_blank" id="view-art-link" class="cta-button secondary">Посмотреть арт</a>
					</div>
				</div>
			</div>
		</section>

		<section id="archive">
			<div class="container">
				<h2>Архив Артов</h2>
				<div class="tabs">
					<button class="tab-link active" data-tab="completed">Завершенные</button>
					<button class="tab-link" data-tab="planned">Планируются</button>
				</div>
				<div id="completed" class="tab-content active"></div>
				<div id="planned" class="tab-content"></div>
			</div>
		</section>
	</main>

	<div id="help-modal" class="modal">
		<div class="modal-content">
			<span class="close-button">&times;</span>
			<h2>Помощь в создании арта</h2>
			<p>Спасибо за ваш вклад! Вот как вы можете помочь:</p>
			<ul>
				<li><strong>Начальная точка:</strong> (1471, 754, 150, 836)</li>
				<li>Используйте инструменты <a href="https://github.com/SwingTheVine/Wplace-BlueMarble">BlueMarble</a> или его форк <a href="https://github.com/Seris0/Wplace-SkirkMarble">SkirkMarble</a>.</li>
				<li>Придерживайтесь стандартной палитры.</li>
			</ul>
			<a href="#" id="download-art-button" class="cta-button">Скачать арт</a>
		</div>
	</div>

	<div id="art-viewer-modal" class="modal">
		<div class="modal-content">
			<span class="close-button">&times;</span>
			<img src="" alt="Просмотр арта" id="modal-art-image" class="pixel-art-image">
			<div class="art-info">
				<p><strong>Художник:</strong><br><span id="modal-art-artist"></span></p>
				<p><strong>Пикселей:</strong><br><span id="modal-art-pixels"></span></p>
			</div>
		</div>
	</div>

	<script>
		const arts = [
			{ id: 1, src: "https://i.ibb.co/HpVRmhxr/IMG-20251009-222017-711.png", artist: "Let's Go Python!", totalPixels: 269545, progress: 39, status: "inProgress" },
			{ id: 2, src: "https://i.ibb.co/6RZZKftD/1760176127822.png", artist: "Gemini", totalPixels: null, status: "planned" }
		];

		document.addEventListener("DOMContentLoaded", () => {
			initializeApp();
			initializeScrollEffects();
			initializeModals();
			initializeDownloadHandler();
			initializeTabs();
		});

		function initializeApp() {
			const currentArt = arts.find(art => art.status === "inProgress");
			if (currentArt) {
				document.getElementById("main-art-image").src = currentArt.src;
				document.getElementById("main-art-artist").textContent = currentArt.artist;
				document.getElementById("main-art-pixels").textContent = `${currentArt.totalPixels.toLocaleString()} пикселей`;
			
				/* setTimeout(() => {
					document.getElementById("main-art-progress").style.width = `${currentArt.progress}%`;
				}, 100); */
				document.getElementById("download-art-button").href = currentArt.src;
			}

			const completedArts = arts.filter(art => art.status === "completed");
			const plannedArts = arts.filter(art => art.status === "planned");

			document.getElementById("completed").innerHTML = completedArts.map(createArtThumbnail).join("");
			document.getElementById("planned").innerHTML = plannedArts.map(createArtThumbnail).join("");
			
			addThumbnailListeners();
		}

		function createArtThumbnail(art) {
			const pixelCount = typeof art.totalPixels === "number" ? art.totalPixels.toLocaleString() + " пикселей" : "Планируется";
			return `<div class="art-thumbnail" data-src="${art.src}" data-artist="${art.artist}" data-pixels="${pixelCount}">
						<img src="${art.src}" alt="Арт от ${art.artist}" loading="lazy" class="pixel-art-image">
					</div>`;
		}
		
		function initializeScrollEffects() {
			const blurs = document.querySelectorAll(".background-blurs div");
			window.addEventListener("scroll", () => {
				const scrollY = window.scrollY;
				blurs.forEach((blur, index) => {
					const speed = (index + 1) * 0.1;
					blur.style.transform = `translateY(${scrollY * speed}px)`;
				});
			}, { passive: true });
		}

		function initializeModals() {
			const helpModal = document.getElementById("help-modal");
			const helpButton = document.getElementById("help-button");
			const closeButtons = document.querySelectorAll(".close-button");

			helpButton.onclick = () => helpModal.classList.add("show");
			closeButtons.forEach(button => button.onclick = () => button.closest(".modal").classList.remove("show"));
			window.onclick = (event) => { if (event.target.classList.contains("modal")) event.target.classList.remove("show"); };
			window.addEventListener("keydown", (event) => {
				if (event.key === "Escape") {
					document.querySelectorAll(".modal.show").forEach(modal => modal.classList.remove("show"));
				}
			});
		}

		function initializeDownloadHandler() {
			const downloadButton = document.getElementById("download-art-button");
			downloadButton.addEventListener("click", (event) => {
				event.preventDefault();
				const imageUrl = event.target.href;
				if (!imageUrl || imageUrl.endsWith("#")) return;

				const button = event.target;
				button.textContent = "Загрузка...";
				button.classList.add("disabled");

				fetch(imageUrl)
					.then(response => response.blob())
					.then(blob => {
						const link = document.createElement("a");
						link.href = URL.createObjectURL(blob);
						link.download = "pixel-art.png";
						document.body.appendChild(link);
						link.click();
						document.body.removeChild(link);
						URL.revokeObjectURL(link.href);
					})
					.catch(() => alert("Не удалось скачать арт."))
					.finally(() => {
						button.textContent = "Скачать арт";
						button.classList.remove("disabled");
					});
			});
		}

		function addThumbnailListeners() {
			document.querySelectorAll(".art-thumbnail").forEach(thumb => {
				thumb.addEventListener("click", () => {
					const artViewerModal = document.getElementById("art-viewer-modal");
					document.getElementById("modal-art-image").src = thumb.dataset.src;
					document.getElementById("modal-art-artist").textContent = thumb.dataset.artist;
					document.getElementById("modal-art-pixels").textContent = thumb.dataset.pixels;
					artViewerModal.classList.add("show");
				});
			});
		}

		function initializeTabs() {
			const tabLinks = document.querySelectorAll(".tabs .tab-link");
			tabLinks.forEach(clickedLink => {
				clickedLink.addEventListener("click", () => {
					tabLinks.forEach(link => link.classList.remove("active"));
					clickedLink.classList.add("active");
					
					const tabName = clickedLink.dataset.tab;
					document.querySelectorAll(".tab-content").forEach(content => {
						content.classList.remove("active");
					});
					document.getElementById(tabName).classList.add("active");
				});
			});
		}
	</script>
</body>
</html>

  
